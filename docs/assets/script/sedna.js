!function(){"use strict";var t={storage:[],init:function(){for(var t=this,e=document.querySelectorAll("[data-collapsetrigger]"),n=function(n){t.storage.find((function(t){return t===e[n]}))||(e[n].addEventListener("click",(function(t){var i=e[n].dataset.collapsetrigger;document.querySelector('[data-collapse="'.concat(i,'"]')).classList.toggle("".concat(window.classPrefix,"Collapse-expanded"))})),t.storage.push(e[n]))},i=0;i<e.length;i++)n(i)},open:function(t){document.querySelector('[data-collapse="'.concat(t,'"]')).classList.add("".concat(window.classPrefix,"Collapse-expanded"))},close:function(t){document.querySelector('[data-collapse="'.concat(t,'"]')).classList.remove("".concat(window.classPrefix,"Collapse-expanded"))},reload:function(){this.init()}},e={warning:'<svg viewBox="64 64 896 896" focusable="false" data-icon="exclamation-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path d="M464 688a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"></path></svg>',danger:'<svg viewBox="64 64 896 896" focusable="false" data-icon="close-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 0 0-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"></path><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path></svg>',success:'<svg viewBox="64 64 896 896" focusable="false" data-icon="check-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0 0 51.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"></path><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path></svg>',info:'<svg viewBox="64 64 896 896" focusable="false" data-icon="info-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path d="M464 336a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"></path></svg>',question:'<svg viewBox="64 64 896 896" focusable="false" data-icon="question-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0 1 30.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1 0 80 0 40 40 0 1 0-80 0z"></path></svg>',close:'<svg viewBox="64 64 896 896" focusable="false" data-icon="question-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M282.517333 213.376l-45.354666 45.162667L489.472 512 237.162667 765.461333l45.354666 45.162667L534.613333 557.354667l252.096 253.269333 45.354667-45.162667-252.288-253.44 252.288-253.482666-45.354667-45.162667L534.613333 466.624l-252.096-253.226667z"></path></svg>',filter:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-funnel" viewBox="0 0 16 16"><path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"/></svg>',plus:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"/></svg>',column:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-layout-three-columns" viewBox="0 0 16 16"><path d="M0 1.5A1.5 1.5 0 0 1 1.5 0h13A1.5 1.5 0 0 1 16 1.5v13a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5v-13zM1.5 1a.5.5 0 0 0-.5.5v13a.5.5 0 0 0 .5.5H5V1H1.5zM10 15V1H6v14h4zm1 0h3.5a.5.5 0 0 0 .5-.5v-13a.5.5 0 0 0-.5-.5H11v14z"/></svg>',sortDown:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-down" viewBox="0 0 16 16"><path d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293V2.5zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"/></svg>',sortUp:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-up" viewBox="0 0 16 16"><path d="M3.5 12.5a.5.5 0 0 1-1 0V3.707L1.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L3.5 3.707V12.5zm3.5-9a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zM7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"/></svg>',render:function(){var t=this;document.querySelectorAll('[class*="SnIcon-"]').forEach((function(e){var n=e.getAttribute("class");n=(n=n.split(" ").find((function(t){return t.startsWith("SnIcon-")}))).replace("SnIcon-",""),null!=t[n]&&(e.innerHTML=t[n])}))}};function n(){var t=document.querySelectorAll(".togglePassword");t&&t.forEach((function(t){var e=0;t.addEventListener("click",(function(n){t.previousElementSibling.type=0===e?"text":"password",e=0===e?1:0}))}))}window.classPrefix="Sn";var i={scope:void 0,unFreeze:function(t){var e=(document.querySelector(t)||document).querySelector(".".concat(window.classPrefix,"Freeze-wrapper"));e&&(e.classList.add("is-unfreezing"),setTimeout((function(){e&&(e.classList.remove("is-unfreezing"),null==e.parentElement&&null==e.parentElement||e.parentElement.removeChild(e))}),250))},freeze:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.render();var e=document.querySelector(t.selector)||document.body;this.scope.setAttribute("data-text",t.text||"Loading"),document.querySelector(t.selector)&&(this.scope.style.position="absolute",e.style.position="relative"),e.appendChild(this.scope)},render:function(){void 0===this.scope&&(this.scope=document.createElement("div"),this.scope.classList.add("".concat(window.classPrefix,"SnFreeze-wrapper")),document.body.appendChild(this.scope))}};function o(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var r=function t(e,n,i,o){var a=e.parentElement;if("UL"===a.tagName&&a.id!==n){var c;a.classList.add("is-show");var r=null==a||null===(c=a.previousElementSibling)||void 0===c?void 0:c.querySelector(".toggle");r&&(o.split(" ").forEach((function(t){r.classList.remove(t)})),i.split(" ").forEach((function(t){r.classList.add(t)})))}null!==a&&a.id!==n&&t(a,n,i,o)},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return t&&t.forEach((function(t){var o=document.location.href;t.href===o&&"#"!==t.href&&(t.parentNode.classList.add("is-active"),r(t,e,n,i))})),t},l={transitionLength:700,scope:void 0,info:function(t){var e=t.content,n=void 0===e?"":e,i=t.duration,o=void 0===i?6e3:i;this.message(n,o,"info","info")},success:function(t){var e=t.content,n=void 0===e?"":e,i=t.duration,o=void 0===i?6e3:i;this.message(n,o,"success","success")},danger:function(t){var e=t.content,n=void 0===e?"":e,i=t.duration,o=void 0===i?6e3:i;this.message(n,o,"danger","danger")},warning:function(t){var e=t.content,n=void 0===e?"":e,i=t.duration,o=void 0===i?6e3:i;this.message(n,o,"warning","warning")},message:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"question";e&&"default"!==e||(e=2e4),this.render();var a=document.createElement("div"),c=document.createElement("span");a.classList.add("".concat(window.classPrefix,"Message"),i),a.innerHTML='<span class="'.concat(window.classPrefix,'Message-icon">').concat(SnIcon[o],'</span><span class="').concat(window.classPrefix,'Message-content">').concat(t,"</span>"),c.innerHTML="x",c.classList.add("".concat(window.classPrefix,"Message-close")),a.appendChild(c),this.scope.prepend(a),setTimeout((function(){return a.classList.add("open")}));var r=setTimeout((function(){return a.classList.remove("open")}),e),s=setTimeout((function(){return n.scope.removeChild(a)}),e+this.transitionLength);c.addEventListener("click",(function(){a.classList.remove("open"),setTimeout((function(){return n.scope.removeChild(a)}),n.transitionLength),clearTimeout(r),clearTimeout(s)}))},render:function(){void 0===this.scope&&(this.scope=document.createElement("div"),this.scope.classList.add("".concat(window.classPrefix,"Message-gScope")),document.body.appendChild(this.scope))}};function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}var u=["title","content","okText","onOk"],f=["title","content","okText","onOk"],p=["title","content","okText","onOk"],h=["title","content","okText","onOk"];function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==d(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){if(null==t)return{};var n,i,o=function(t,e){if(null==t)return{};var n,i,o={},a=Object.keys(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var b=function(t){t.classList.remove("visible"),document.body.style.overflow="auto"},w={dataModals:null,openModals:[],scope:void 0,init:function(){var t=this;this.render(),this.dataModals=document.querySelectorAll("[data-modal]");for(var e=function(e){var n=t.dataModals[e].dataset.maskclose||!0;!0!==n&&"true"!==n||t.dataModals[e].addEventListener("click",(function(n){var i=t.dataModals[e].dataset.modal;t.close(i)}))},n=0;n<this.dataModals.length;n++)e(n);for(var i=document.querySelectorAll("[data-modaltrigger]"),o=function(e){i[e].addEventListener("click",(function(n){var o=i[e].dataset.modaltrigger;t.open(o)}))},a=0;a<i.length;a++)o(a);for(var c=document.querySelectorAll("[data-modalclose]"),r=function(e){c[e].addEventListener("click",(function(n){var i=c[e].dataset.modalclose;t.close(i)}))},s=0;s<c.length;s++)r(s);window.addEventListener("keyup",(function(t){w.openModals.length&&27===t.keyCode&&w.closeLastModal()}))},render:function(){void 0===this.scope&&(this.scope=document.createElement("div"),this.scope.classList.add("".concat(window.classPrefix,"Modal-gScope")),document.body.appendChild(this.scope))},open:function(t,e){var n=document.querySelector('[data-modal="'.concat(t,'"]'));if(!(this.openModals.indexOf(n)>=0)){if(n){n.classList.add("visible");var i=n.querySelector(".".concat(window.classPrefix,"Modal"));i&&i.addEventListener("click",(function(t){t.stopPropagation()})),document.body.style.overflow="hidden",this.openModals.push(n)}else console.warn('Could not find modal with name "%s"',t);"function"==typeof e&&e()}},close:function(t,e){var n=document.querySelector('[data-modal="'.concat(t,'"]'));n?(b(n),this.openModals.pop(n)):console.warn('Could not find modal with name "%s"',t),"function"==typeof e&&e()},closeLastModal:function(t){var e=this.openModals.pop();b(e),"function"==typeof t&&t()},confirm:function(t){var e=this,n=t.confirm,i=void 0===n||n,o=t.title,a=void 0===o?"":o,c=t.type,r=void 0===c?"question":c,s=t.content,l=void 0===s?"":s,d=t.input,u=void 0!==d&&d,f=t.inputValue,p=void 0===f?"":f,h=t.okClassNames,v=void 0===h?"primary":h,m=t.cancelClassNames,y=void 0===m?"":m,g=t.cancelText,b=void 0===g?"Cancelar":g,w=t.okText,S=void 0===w?"OK":w,E=t.onOk,L=void 0===E?function(){}:E,k=t.onCancel,x=void 0===k?function(){}:k;this.render();var T=window.classPrefix+"ConfirmModal"+(document.querySelectorAll(".".concat(window.classPrefix,"Modal.confirm")).length+1),C=document.createElement("div"),A=i?'<button class="'.concat(window.classPrefix,"Btn ").concat(y,'" id="cancel').concat(T,'" type="button">').concat(b,"</button>"):"",O=!0===u?'<div class="'.concat(window.classPrefix,'Modal-confirmInput"><input type="text" class="').concat(window.classPrefix,'Form-control" id="input').concat(T,'" value="').concat(p,'"></div>'):"";C.innerHTML='\n            <div class="'.concat(window.classPrefix,'Modal-wrapper" data-modal="').concat(T,'" >\n                <div class="').concat(window.classPrefix,'Modal confirm">\n                    <div class="').concat(window.classPrefix,'Modal-body confirm">\n                        <div class="').concat(window.classPrefix,"Modal-confirmIcon ").concat(r,'">').concat(SnIcon[r],'</div>\n                        <div class="').concat(window.classPrefix,'Modal-confirmTile">').concat(a,'</div>\n                        <div class="').concat(window.classPrefix,'Modal-confirmContent">').concat(l,"</div>\n                        ").concat(O,'\n                        <div class="').concat(window.classPrefix,'Modal-confirmBtns">\n                            ').concat(A,'\n                            <button class="').concat(window.classPrefix,"Btn ").concat(v,'" id="ok').concat(T,'" type="button">').concat(S,"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        "),this.scope.appendChild(C),this.open(T);var M=document.getElementById("input".concat(T));M&&M.focus();var P=document.getElementById("cancel".concat(T));P&&P.addEventListener("click",(function(t){t.preventDefault(),e.close(T),e.scope.removeChild(C),x(M?M.value:"")}));var D=document.getElementById("ok".concat(T));D&&(D.addEventListener("click",(function(t){t.preventDefault(),e.close(T),e.scope.removeChild(C),L(M?M.value:"")})),D.focus())},info:function(t){var e=t.title,n=void 0===e?"":e,i=t.content,o=void 0===i?"":i,a=t.okText,c=void 0===a?"OK":a,r=t.onOk,s=void 0===r?function(){}:r,l=g(t,u);this.confirm(m({confirm:!1,type:"info",title:n,content:o,okText:c,onOk:s},l))},success:function(t){var e=t.title,n=void 0===e?"":e,i=t.content,o=void 0===i?"":i,a=t.okText,c=void 0===a?"OK":a,r=t.onOk,s=void 0===r?function(){}:r,l=g(t,f);this.confirm(m({confirm:!1,type:"success",title:n,content:o,okText:c,onOk:s},l))},danger:function(t){var e=t.title,n=void 0===e?"":e,i=t.content,o=void 0===i?"":i,a=t.okText,c=void 0===a?"OK":a,r=t.onOk,s=void 0===r?function(){}:r,l=g(t,p);this.confirm(m({confirm:!1,type:"danger",title:n,content:o,okText:c,onOk:s},l))},warning:function(t){var e=t.title,n=void 0===e?"":e,i=t.content,o=void 0===i?"":i,a=t.okText,c=void 0===a?"OK":a,r=t.onOk,s=void 0===r?function(){}:r,l=g(t,h);this.confirm(m({confirm:!1,type:"warning",title:n,content:o,okText:c,onOk:s},l))}},S={storage:[],init:function(){for(var t=this,e=document.querySelectorAll(".".concat(window.classPrefix,"Tab")),n=function(n){if(!t.storage.find((function(t){return t===e[n]}))){var i=e[n].firstElementChild;if(!i)return"continue";var o=e[n].lastElementChild;if(!o)return"continue";for(var a=o.children,c=i.children,r=function(t){c[t].addEventListener("click",(function(e){l(t)}))},s=0;s<c.length;s++)r(s);var l=function(t){for(var e=0;e<c.length;e++)c[e].classList.remove("is-active");for(var n=0;n<a.length;n++)a[n].classList.remove("is-active");a[t].classList.add("is-active"),c[t].classList.add("is-active")};l(0),t.storage.push(e[n])}},i=0;i<e.length;i++)n(i)},reload:function(){this.init()}};function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var L={init:function(){var t;(t=document.querySelectorAll(".".concat(window.classPrefix,"Alert")),function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t){var e=t.querySelector(".".concat(window.classPrefix,"Alert-close"));e&&e.addEventListener("click",(function(){t.remove()}))}))}},k={theme:"",init:function(){var t=this,e=document.documentElement,n=sessionStorage.getItem("sn-scheme");n?this.setTheme(n):e.classList.contains("SnTheme-light")?this.setTheme("light"):e.classList.contains("SnTheme-darck")&&this.setTheme("darck"),document.getElementsByName("snTheme").forEach((function(e){e.addEventListener("change",(function(n){t.setTheme(e.value)}))}))},setTheme:function(t){document.documentElement.classList.remove("SnTheme-darck"),document.documentElement.classList.remove("SnTheme-light");var e=document.getElementsByName("snTheme");"light"===t?(document.documentElement.classList.add("SnTheme-light"),this.theme="light"):"darck"===t?(document.documentElement.classList.add("SnTheme-darck"),this.theme="darck"):"system"===t?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("SnTheme-darck"),this.theme="darck"):(document.documentElement.classList.add("SnTheme-light"),this.theme="light"):(document.documentElement.classList.add("SnTheme-"+t),this.theme=t),sessionStorage.setItem("sn-scheme",this.theme),e.forEach((function(e){e.value===t&&(e.checked=!0)}))}};function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function T(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=O(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,r=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){r=!0,a=t},f:function(){try{c||null==n.return||n.return()}finally{if(r)throw a}}}}function C(t){return function(t){if(Array.isArray(t))return M(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||O(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,a,c,r=[],s=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=a.call(n)).done)&&(r.push(i.value),r.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return r}}(t,e)||O(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){if(t){if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(t,e):void 0}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){F(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function F(t,e,n){return(e=j(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,j(i.key),i)}}function j(t){var e=function(t,e){if("object"!==x(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==x(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===x(e)?e:String(e)}var R=function(){function t(e){var n,i,o,a,c,r,s,l,d,u,f,p,h,v,m,y,g,b,w,S;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.columnSorters={},this.columnFilters={},this.selectRows=[],this.rowKey="id",this.result={},this.filters=[],this.limit=20,this.page=1,this.summaryFields=[],null!==(i=(n=this.options).paramKeys)&&void 0!==i||(n.paramKeys=["id"]),null!==(a=(o=this.options).actions)&&void 0!==a||(o.actions=[]),null!==(r=(c=this.options).entity)&&void 0!==r||(c.entity=SnUniqueId()),null!==(l=(s=this.options).elementId)&&void 0!==l||(s.elementId=""),null!==(u=(d=this.options).selectable)&&void 0!==u||(d.selectable=!0),null!==(p=(f=this.options).columns)&&void 0!==p||(f.columns=[]),null!==(v=(h=this.options).filters)&&void 0!==v||(h.filters=[]),null!==(y=(m=this.options).tableHeadTopHtml)&&void 0!==y||(m.tableHeadTopHtml=""),null!==(b=(g=this.options).filterEnabled)&&void 0!==b||(g.filterEnabled=!0),null!==(S=(w=this.options).selectableRadio)&&void 0!==S||(w.selectableRadio=!0),this.options.filters.length>0?this.filters=this.options.filters:(this.filters=[{id:SnUniqueId(),logicalOperator:"or",prefix:"DONDE",eval:[]}],this.options.filters=this.filters),this.columnFilters={id:SnUniqueId(),logicalOperator:"and",prefix:"DONDE",eval:[]},this.rowKey.length>0&&(this.columnSorters={field:this.rowKey,order:"desc"}),this._setDefaultValues(),this._renderTemplate(),this.getData()}var e,n;return e=t,n=[{key:"_setDefaultValues",value:function(){this.options.columns=this.options.columns.map((function(t){var e;return D(D({},t),{},{id:null!==(e=t.id)&&void 0!==e?e:SnUniqueId(),visible:[void 0,null,!0,1,"1"].includes(t.visible)})})).sort((function(t,e){return t.position_index-e.position_index})),this.summaryFields=this.options.columns.filter((function(t){return"number"===t.type&&!!t.summaryOperator})).map((function(t){return D(D({},t),{},{values:[]})}))}},{key:"_getTableActionParamValues",value:function(t){var e=this,n=Object.entries(t).filter((function(t){var n=A(t,2),i=n[0];return n[1],e.options.paramKeys.includes(i)}));return(n=n.map((function(t){var e=A(t,2),n=(e[0],e[1]);return"string"==typeof n?"'".concat(n,"'"):n}))).join("_")}},{key:"_getTableActions",value:function(){return this.options.actions.filter((function(t){return"TABLE"===t.position}))}},{key:"_getVisibleColumns",value:function(){return this.options.columns.filter((function(t){return[!0,1,"1"].includes(t.visible)}))}},{key:"getData",value:function(){var t=this;SnFreeze.freeze({selector:"#".concat(this.options.elementId)}),SnLoadingState(!0,"jsAction"),this.options.data({filter:[].concat(C(this.filters),[this.columnFilters]),sorter:this.columnSorters,limit:this.limit,page:this.page}).then((function(e){t.result=e,t._renderTableBody()})).catch((function(t){console.error("SnTable fetch error ",t)})).finally((function(e){SnFreeze.unFreeze("#".concat(t.options.elementId)),SnLoadingState(!1,"jsAction")}))}},{key:"_renderTemplate",value:function(){var t=this;document.getElementById(this.options.elementId).innerHTML='<div id="'.concat(this.options.entity,'DataSet" class="SnDataSet">\n                                    <div class="SnDataSet-filter SnDataSetFilter show" id="').concat(this.options.entity,'SnDataSetFilter">\n                                        <div class="SnDataSetFilter-close"></div>\n                                        <div id="').concat(this.options.entity,'FilterWrapper"></div>\n                                    </div>\n                                    <div class="SnDataSet-table">\n                                        <div class="SnTable-wrapper">\n                                            <table class="SnTable" id="').concat(this.options.entity,'Table">\n                                                <thead id="').concat(this.options.entity,'TableHead"></thead>\n                                                <tbody id="').concat(this.options.entity,'TableBody">').concat(this._buildEmptyRow(),'</tbody>\n                                                <tfoot id="').concat(this.options.entity,'TableFoot"></tfoot>\n                                            </table>\n                                        </div>\n                                        <div id="').concat(this.options.entity,'Pagination"></div>\n                                    </div>\n                                    <div class="SnDataSet-detail" id="').concat(this.options.entity,'SnDataSetDetail">\n                                    </div>\n                                </div>'),document.body.addEventListener("click",(function(){var e=document.getElementById("".concat(t.options.entity,"TableRowMenuPortal"));null!==e&&e.remove()})),window.addEventListener("resize",(function(){var e=document.getElementById("".concat(t.options.entity,"TableRowMenuPortal"));null!==e&&e.remove()})),this.options.filterEnabled&&this.renderCustomFilter(),this._renderTableHead()}},{key:"_renderTableHead",value:function(){var t=this,e=document.getElementById("".concat(this.options.entity,"TableHead")),n="";this._getVisibleColumns().forEach((function(e){n+="<th ".concat(null!=e.style?'style="'.concat(e.style,'"'):"",' title="').concat(e.tooltip||e.title,'">\n                                <div class="SnTableSorterCol">\n                                    <div class="SnTableSorterCol-label">').concat(e.title,"</div>\n                                    ").concat(e.sortable?'<div class="jsSorterCol'.concat(t.options.entity,' SnTableSorterCol-sort not-print" data-field="').concat(e.field,'" data-order="" title="Ordenar">\n                                                            <i>').concat(SnIcon.sortUp,"</i>\n                                                        </div>"):"","\n                                </div>\n                                ").concat(e.filterable?'<input type="'.concat("datetime-local"===e.type||"date"===e.type?e.type:"search",'" class="jsFilterValue').concat(t.options.entity,' SnForm-control sm SnMt-1 SnMb-1 not-print" data-field="').concat(e.field,'">'):"","\n                            </th>")})),e.innerHTML="".concat(this.options.tableHeadTopHtml,"\n                                    <tr>\n                                        ").concat(this.options.selectable?this.options.selectableRadio?'<th class="not-print"></th>':'<th class="not-print"><input type="checkbox" id="'.concat(this.options.entity,'TableSelectHead"></th>'):"","\n                                        ").concat(n,"\n                                    </tr>"),document.querySelectorAll(".jsFilterValue".concat(this.options.entity)).forEach((function(e){var n=e.getAttribute("type");"date"!==n&&"datetime-local"!==n||e.addEventListener("change",(function(e){t.setTableColumnFilter(e.target.dataset.field,e.target.value)})),e.addEventListener("keyup",(function(e){"Enter"===e.key&&t.setTableColumnFilter(e.target.dataset.field,e.target.value)}))}));var i=document.querySelectorAll(".jsSorterCol".concat(this.options.entity));if(i.forEach((function(e){e.addEventListener("click",(function(n){var o=e.dataset.field,a=e.dataset.order;t.columnSorters={field:o,order:""===a?"asc":"asc"===a?"desc":"asc"},i.forEach((function(e){e.dataset.field!==o?(e.setAttribute("data-order",""),e.innerHTML="<i>"+SnIcon.sortUp+"</i>",e.classList.remove("sort")):(e.setAttribute("data-order",t.columnSorters.order),e.innerHTML="<i>"+("asc"===t.columnSorters.order?SnIcon.sortUp:SnIcon.sortDown)+"</i>",e.classList.add("sort"))})),t.getData()}))})),this.options.selectable){var o=document.getElementById("".concat(this.options.entity,"TableSelectHead"));o&&o.addEventListener("change",(function(e){o.checked?t.result.data&&(t.selectRows=t.result.data.map((function(e){return e[t.rowKey]}))):t.selectRows=[],t._reRenderSelectRowChecked()}))}}},{key:"_renderTableBody",value:function(){var t=this;this._setDefaultValues();var e="";0===this.result.data.length?e+=this._buildEmptyRow():this.result.data.forEach((function(n){var i=t._getTableActionParamValues(n);t.options.rowRender&&"function"==typeof t.options.rowRender?e+=t.options.rowRender(n,t,i):e+='<tr class="'.concat(0==n.state?"canceled":"",'" key="').concat(n.id,'" data-params="').concat(i,'">\n                                            ').concat(t._buildSelectColumn(n),"\n                                            ").concat(t._buildDataRow(n),"\n                                        </tr>"),t.summaryFields=t.summaryFields.map((function(t){var e=parseFloat(n[t.field]||0);return D(D({},t),{},{values:[].concat(C(t.values),[e])})}))})),document.getElementById("".concat(this.options.entity,"TableBody")).innerHTML=e,0!==this.result.data.length&&(this._renderSummary(),this.options.selectable&&C(document.querySelectorAll('[id^="'.concat(this.options.entity,'TableRowSelect"]'))).forEach((function(e){e.addEventListener("change",(function(n){var i=e.dataset.id;e.checked?-1===t.selectRows.indexOf(i)&&(t.options.selectableRadio?t.selectRows=[i]:t.selectRows.push(i)):t.selectRows=t.options.selectableRadio?[]:t.selectRows.filter((function(t){return t!=i})),t._reRenderSelectRowChecked()}))})),this._getTableActions().length>0&&(C(document.querySelectorAll('[id^="'.concat(this.options.entity,'TableMenu"]'))).forEach((function(e){e.addEventListener("click",(function(n){var i;n.preventDefault(),n.stopPropagation();var o=e.getAttribute("key"),a=(null!==(i=e.dataset.params)&&void 0!==i?i:"").split("_");t._renderActionMenu(o,e,!0,a)}))})),C(document.querySelectorAll("#".concat(this.options.entity,"Table tbody tr"))).forEach((function(e){e.addEventListener("contextmenu",(function(n){var i;n.preventDefault();var o=e.getAttribute("key"),a=(null!==(i=e.dataset.params)&&void 0!==i?i:"").split("_");t._renderActionMenu(o,{x:n.pageX,y:n.pageY},!1,a)}))}))),this._renderPagination(),this.options.updated&&"function"==typeof this.options.updated&&this.options.updated(this))}},{key:"_renderSummary",value:function(){var t=this;if(0!==this.summaryFields.length){var e=this._getVisibleColumns().map((function(e){var n,i=t.summaryFields.find((function(t){return t.field===e.field}));return i?"<td>".concat(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sum";if(0===t.length)return 0;var n=0;return"sum"===e||"avg"===e?n=t.reduce((function(t,e){return t+e}),0):"max"===e?n=t.reduce((function(t,e){return t<e?e:t}),t[0]):"min"===e&&(n=t.reduce((function(t,e){return t>e?e:t}),t[0])),"avg"===e&&(n/=t.length),n}(i.values,null!==(n=i.summaryOperator)&&void 0!==n?n:"sum").toFixed(2),"</td>"):"<td></td>"})).join("");document.getElementById("".concat(this.options.entity,"TableFoot")).innerHTML="<tr>".concat(this.options.selectable?"<td></td>":"").concat(e,"</tr>")}}},{key:"_renderPagination",value:function(){var t=this,e=this.result,n=parseInt(e.current),i=parseInt(e.pages),o=i,a=n-3>0?n-3:1,c=n+3<i?n+3:i,r="";if(i>1){r='<nav aria-label="..."><ul class="SnPagination">';var s=1==n?"disabled":"";r+='<li class="SnPagination-item '.concat(s,'"><button id="').concat(this.options.entity,'PreviousPage" class="SnPagination-link"><i class="fas fa-chevron-left"></i></button></li>'),a>1&&(r+='<li class="SnPagination-item"><button id="'.concat(this.options.entity,'FirstPage" class="SnPagination-link">1</button></li>'),r+='<li class="SnPagination-item disabled"><span class="SnPagination-link">...</span></li>');for(var l=a;l<=c;l++)r+='<li class="SnPagination-item '.concat(s=n==l?"active":"",'"><button class="SnPagination-link js').concat(this.options.entity,'Page" data-id="').concat(l,'">').concat(l,"</button></li>");c<o&&(r+='<li class="SnPagination-item disabled"><span class="SnPagination-link">...</span></li>',r+='<li class="SnPagination-item"><button id="'.concat(this.options.entity,'LastPage" class="SnPagination-link">').concat(o,"</button></li>")),r+='<li class="SnPagination-item '.concat(s=n==o||0==i?"disabled":"",'"><button id="').concat(this.options.entity,'NextPage" class="SnPagination-link"><i class="fas fa-chevron-right"></i></button></li>'),r+="</ul></nav>"}var d='\n            <div class="SnDataSetPagination SnMt-3 SnMb-3">\n                <div class="SnDataSetPagination-left">Mostrando: <span>'.concat(e.data.length," de ").concat(e.total,'</span></div>\n                <div class="SnDataSetPagination-center">\n                    ').concat(r,'\n                </div>\n                <div class="SnDataSetPagination-right">\n                    <select class="SnForm-control" id="').concat(this.options.entity,'Limit">')+[10,20,50,100,200,300,500,1e3].map((function(t){return'<option value="'.concat(t,'" ').concat(t==e.limit?"selected":"",">").concat(t,"</option>")})).join("")+"</select>\n                </div>\n            </div>\n        ";document.getElementById("".concat(this.options.entity,"Pagination")).innerHTML=d;var u=document.getElementById("".concat(this.options.entity,"Limit"));if(u.addEventListener("change",(function(){t.limit=u.value,t.getData()})),i>1){var f=document.getElementById("".concat(this.options.entity,"PreviousPage"));f&&f.addEventListener("click",(function(e){e.preventDefault(),t.page=n-1,t.getData()}));var p=document.getElementById("".concat(this.options.entity,"FirstPage"));p&&p.addEventListener("click",(function(e){e.preventDefault(),t.page=1,t.getData()})),document.querySelectorAll(".js".concat(this.options.entity,"Page")).forEach((function(e){e.addEventListener("click",(function(n){n.preventDefault(),t.page=e.dataset.id,t.getData()}))}));var h=document.getElementById("".concat(this.options.entity,"LastPage"));h&&h.addEventListener("click",(function(e){e.preventDefault(),t.page=o,t.getData()}));var v=document.getElementById("".concat(this.options.entity,"NextPage"));v&&v.addEventListener("click",(function(e){e.preventDefault(),t.page=n+1,t.getData()}))}}},{key:"_buildEmptyRow",value:function(){return'<tr>\n                    <td colspan="'.concat(this.options.columns.length+(this.options.selectable?1:0),'">\n                        <div class="SnEmpty">\n\n                            <div>No hay datos que mostrar</div>\n                        </div>\n                    </td>\n                </tr>')}},{key:"_buildMenuButton",value:function(t,e){var n=this._getTableActionParamValues(e);return'<td style="padding: 0"><div class="SnTable-menu jsAction"><span>'.concat(this._buildCustomRow(t,e),'</span><button type="button" class="SnBtn jsAction" id="').concat(this.options.entity,"TableMenu_").concat(e.id,'" key="').concat(e.id,'" data-params="').concat(n,'" title="Mostrar más opciones"><i class="fa-solid fa-ellipsis-vertical"></i></button></div></td>')}},{key:"_buildCustomRow",value:function(t,e){return t.customRender&&"function"==typeof t.customRender?t.customRender(e,this):e[t.field]}},{key:"_buildDataRow",value:function(t){var e=this;return this._getVisibleColumns().map((function(n,i){return 0===i&&e._getTableActions().length>0?e._buildMenuButton(n,t):"<td>".concat(e._buildCustomRow(n,t),"</td>")})).join("")}},{key:"_renderActionMenu",value:function(t,e,n){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a="";this._getTableActions().forEach((function(t,e){var n,c=((null==t||null===(n=t.event_name_prefix)||void 0===n?void 0:n.length)>1?t.event_name_prefix:i.options.entity)+t.event_name;a+='<li class="SnList-item jsAction" key="'.concat(t.id||e,'" onclick="').concat(c,"('").concat(i.options.entity,"','").concat(t.screen_id_controller,"', [").concat(o.join(","),'])">\n                                    <i class="').concat(t.icon,' SnMr-2"></i>').concat(t.title,"\n                                </li>")})),a='<ul class="SnList menu" style="right: 0; min-width: auto">'.concat(a,"</ul>"),this.renderMenuPortal(t,e,a,n)}},{key:"renderMenuPortal",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=function(t,e){var n,i,o=e.getBoundingClientRect(),a=window.pageXOffset||document.documentElement.scrollLeft,c=window.pageYOffset||document.documentElement.scrollTop,r=e.offsetHeight,s=e.offsetWidth,l=t.getBoundingClientRect(),d=o.top+c+r;n=d+l.height<window.innerHeight?d+"px":d-(l.height+r)+"px";var u=o.left+a+s;i=u<l.width?u+"px":u-l.width+"px",t.style.top=n,t.style.left=i},a=function(t,e,n){var i,o,a=t.getBoundingClientRect();i=n+a.height<window.innerHeight?n+"px":n-a.height+"px",o=e+a.width<window.innerWidth?e+"px":e-a.width+"px",t.style.top=i,t.style.left=o},c=document.getElementById("".concat(this.options.entity,"TableRowMenuPortal"));if(c){var r=c.getAttribute("origin");if(i&&r==t)return void c.remove()}else(c=document.createElement("div")).setAttribute("id","".concat(this.options.entity,"TableRowMenuPortal")),c.classList.add("SnPortal"),document.body.appendChild(c);c.setAttribute("origin",t),c.innerHTML=n,e.parentNode?o(c,e):a(c,e.x,e.y)}},{key:"_buildSelectColumn",value:function(t){return this.options.selectable?'<td><input type="checkbox" class="jsAction" id="'.concat(this.options.entity,"TableRowSelect").concat(t[this.rowKey],'" data-id="').concat(t[this.rowKey],'"></td>'):""}},{key:"_reRenderSelectRowChecked",value:function(){var t=this;C(document.querySelectorAll('[id^="'.concat(this.options.entity,'TableRowSelect"]'))).forEach((function(t){t.checked=!1})),this.selectRows.forEach((function(e){var n=document.getElementById("".concat(t.options.entity,"TableRowSelect").concat(e));n&&(n.checked=!0)})),this.options.onSelectChange&&"function"==typeof this.options.onSelectChange&&this.options.onSelectChange(this)}},{key:"setTableColumnFilter",value:function(t,e){var n=this.columnFilters.eval.find((function(e){return e.field===t}));if(""===e)return null!=n&&(this.columnFilters.eval=this.columnFilters.eval.filter((function(e){return e.field!==t}))),this.page=1,void this.getData();null!=n?this.columnFilters.eval=this.columnFilters.eval.map((function(n){return n.field===t?D(D({},n),{},{value1:e}):n})):this.columnFilters.eval.push({id:SnUniqueId(),logicalOperator:"and",prefix:"DONDE",operator:"contiene",field:t,type:"text",value1:e,value2:""}),this.page=1,this.getData()}},{key:"toggleFilterPanel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=document.getElementById("".concat(this.options.entity,"SnDataSetFilter"));e&&(null!==t?e.classList.toggle("show",t):e.classList.toggle("show"))}},{key:"addCustomFilter",value:function(t,e){var n=this.options.columns.find((function(t){return t.filterable}));if(void 0!==n){switch(t){case"1":case"2":var i={id:SnUniqueId(),logicalOperator:"and",prefix:"1"==t?"DONDE":"DONDE NO",operator:"text"===(n.type||"text")?"contiene":"=",field:n.field,type:n.type||"text",value1:"",value2:""},o=this.filters.findIndex((function(t){return t.id==e}));null!=o?this.filters[o].eval=[].concat(C(this.filters[o].eval),[i]):alert("ERROR: FILTER ADD");break;case"3":case"4":var a={id:SnUniqueId(),logicalOperator:"or",prefix:"3"==t?"DONDE":"DONDE NO",operator:"text"===(n.type||"text")?"contiene":"=",field:n.field,type:n.type||"text",value1:"",value2:""};this.filters.push({id:SnUniqueId(),logicalOperator:"or",prefix:"3"==t?"DONDE":"DONDE NO",eval:[a]});break;default:alert("ERROR: FILTER UNSUPPORT")}this.renderCustomFilter()}else SnMessage.warning({content:"No hay columnas configuradas para filtrar."})}},{key:"removeCustomFilter",value:function(t,e){var n=this.filters.findIndex((function(t){return t.id==e}));void 0===n&&alert("ERROR: FILTER DELETE"),this.filters[n].eval=this.filters[n].eval.filter((function(e){return e.id!=t})),0===this.filters[n].eval.length&&n>0&&this.filters.splice(n,1),this.renderCustomFilter()}},{key:"updateCustomFilter",value:function(t,e,n,i){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.filters.findIndex((function(t){return t.id==i}));void 0===a&&alert("ERROR: FILTER UPDATE"),this.filters[a].eval=this.filters[a].eval.map((function(i){return i.id==n?D(D({},i),{},F({},t,e)):i})),o&&this.renderCustomFilter()}},{key:"renderCustomFilter",value:function(){var t=this,e=document.getElementById("".concat(this.options.entity,"FilterWrapper")),n=[{id:"DONDE",description:"DONDE"},{id:"DONDE NO",description:"DONDE NO"}],i=[{id:"contiene",description:"contiene"},{id:"empieza por",description:"empieza por"},{id:"es",description:"es"},{id:"no es",description:"no es"},{id:"no contiene",description:"no contiene"},{id:"se encuentra entre (incluye)",description:"se encuentra entre (incluye)"},{id:"es mayor que e incluye",description:"es mayor que e incluye"},{id:"es menor que e incluye",description:"es menor que e incluye"},{id:"no tiene valor.",description:"no tiene valor."}],o=[{id:"=",description:"="},{id:"<>",description:"<>"},{id:"se encuentra entre (incluye)",description:"se encuentra entre (incluye)"},{id:"<",description:"<"},{id:"<=",description:"<="},{id:">",description:">"},{id:">=",description:">="},{id:"no tiene valor",description:"no tiene valor"}],a="";this.filters.forEach((function(e,c){t.filters.length>1&&("OR"===e.logicalOperator.toUpperCase()&&"DONDE"===e.prefix.toUpperCase()?a+=0==c?"<div>Ya sea<div>":"<div>O<div>":"OR"===e.logicalOperator.toUpperCase()&&"DONDE NO"===e.prefix.toUpperCase()&&(a+="<div>Ni tampoco<div>")),e.eval.forEach((function(c){a+='<div class="MultiFilter SnMb-2">\n                            <div class="MultiFilter-item"><button class="SnBtn radio icon jsFilterRowRemove'.concat(t.options.entity,' jsAction" data-id="').concat(c.id,'" data-parentid="').concat(e.id,'"><i>').concat(SnIcon.close,'</i></button></div>\n                            <div class="MultiFilter-item">\n                                <select class="SnForm-control jsFilterRowPrefix').concat(t.options.entity,'" data-id="').concat(c.id,'" data-parentid="').concat(e.id,'">\n                                    ').concat(n.map((function(t){return'<option value="'.concat(t.id,'" ').concat(c.prefix===t.id?"selected":"",">").concat(t.description,"</option>")})).join(""),'\n                                </select>\n                            </div>\n                            <div class="MultiFilter-item">\n                                <select class="SnForm-control jsFilterRowField').concat(t.options.entity,'" data-id="').concat(c.id,'" data-parentid="').concat(e.id,'">\n                                    ').concat(t.options.columns.map((function(t){return t.filterable?'<option value="'.concat(t.field,'" ').concat(c.field===t.field?"selected":"",' data-type="').concat(t.type||"text",'">').concat(t.title,"</option>"):""})).join(""),'\n                                </select>\n                            </div>\n                            <div class="MultiFilter-item">\n                                <select class="SnForm-control jsFilterRowOperator').concat(t.options.entity,'" data-id="').concat(c.id,'" data-parentid="').concat(e.id,'">\n                                    ').concat("number"===c.type||"date"===c.type||"datetime-local"===c.type?o.map((function(t){return'<option value="'.concat(t.id,'" ').concat(c.operator===t.id?"selected":"",">").concat(t.description,"</option>")})).join(""):i.map((function(t){return'<option value="'.concat(t.id,'" ').concat(c.operator===t.id?"selected":"",">").concat(t.description,"</option>")})).join(""),'\n                                </select>\n                            </div>\n                            <div class="MultiFilter-item">\n                                <input type="').concat(c.type||"text",'" class="SnForm-control jsFilterRowValue1').concat(t.options.entity,'" data-id="').concat(c.id,'" data-parentid="').concat(e.id,'" placeholder="Ingresa un valor" value="').concat(c.value1,'">\n                            </div>\n                            <div class="MultiFilter-item">\n                                ').concat("se encuentra entre (incluye)"===c.operator?'<span class="SnMr-2">Y</span><input type="'.concat(c.type||"text",'" class="SnForm-control jsFilterRowValue2').concat(t.options.entity,'" data-id="').concat(c.id,'" data-parentid="').concat(e.id,'" placeholder="Ingresa un valor" value="').concat(c.value2,'">'):"","\n                            </div>\n                        </div>")})),a+='<div class="SnDropdown">\n                        <div class="SnDropdown-toggle SnBtn sm radio jsAction SnMr-2"><i class="SnMr-2">'.concat(SnIcon.plus,'</i>Añadir filtro</div>\n                        <ul class="SnDropdown-list jsFilter').concat(t.options.entity,'" style="left: 0; min-width: auto">\n                            <li class="SnDropdown-item" data-type="1" data-parentid="').concat(e.id,'">Si</li>\n                            <li class="SnDropdown-item" data-type="2" data-parentid="').concat(e.id,'">Si no</li>\n                            <li class="SnDropdown-item" data-type="3" data-parentid="').concat(e.id,'">O</li>\n                            <li class="SnDropdown-item" data-type="4" data-parentid="').concat(e.id,'">O no</li>\n                        </ul>\n                    </div>')})),a+='<button class="SnBtn sm radio primary jsAction" id="'.concat(this.options.entity,'FilterAply"><i class="SnMr-2">').concat(SnIcon.filter,"</i>Aplicar filtro</button>"),a+='<div class="SnDropdown">\n                    <div class="SnDropdown-toggle SnBtn sm radio jsAction SnMl-2"><i>'.concat(SnIcon.column,'</i></div>\n                    <div class="SnDropdown-list SnTableColumnFilter no-closable">\n                        <div class="SnForm-item inner">\n                            <label for="headerCompany" class="SnForm-label">Buscar columna</label>\n                            <input type="search" class="SnForm-control sm" id="').concat(this.options.entity,'SearchCols">\n                        </div>\n                        <ul class="SnList SnTableColumnFilter-list" id="').concat(this.options.entity,'ListCols">\n                            ').concat(this.options.columns.map((function(e){return'<li><input type="checkbox" class="js'.concat(t.options.entity,'ToggleCols" data-key="').concat(e.id,'" ').concat(!0===e.visible?"checked":"",'><span class="SnMl-2">').concat(e.title,"</span></li>")})).join(""),'\n                        </ul>\n                        <div class="SnTableColumnFilter-footer">\n                            <button class="SnBtn radio" id="').concat(this.options.entity,'HideAllCols">Ocultar todo</button>\n                            <button class="SnBtn radio SnMl-3" id="').concat(this.options.entity,'ShowAllCols">Mostrar todo</button>\n                        </div>\n                    </div>\n                </div>'),e.innerHTML=a,SnDropdown(),document.querySelectorAll(".jsFilter".concat(this.options.entity)).forEach((function(e){C(e.children).forEach((function(e){e.addEventListener("click",(function(n){t.addCustomFilter(e.dataset.type,e.dataset.parentid)}))}))})),document.querySelectorAll(".jsFilterRowRemove".concat(this.options.entity)).forEach((function(e){e.addEventListener("click",(function(n){t.removeCustomFilter(e.dataset.id,e.dataset.parentid)}))})),document.querySelectorAll(".jsFilterRowPrefix".concat(this.options.entity)).forEach((function(e){e.addEventListener("change",(function(n){t.updateCustomFilter("prefix",e.value,e.dataset.id,e.dataset.parentid)}))})),document.querySelectorAll(".jsFilterRowField".concat(this.options.entity)).forEach((function(e){e.addEventListener("change",(function(n){var i=e.options[e.selectedIndex].getAttribute("data-type");t.updateCustomFilter("field",e.value,e.dataset.id,e.dataset.parentid,!1),t.updateCustomFilter("type",i,e.dataset.id,e.dataset.parentid)}))})),document.querySelectorAll(".jsFilterRowOperator".concat(this.options.entity)).forEach((function(e){e.addEventListener("change",(function(n){t.updateCustomFilter("operator",e.value,e.dataset.id,e.dataset.parentid)}))})),document.querySelectorAll(".jsFilterRowValue1".concat(this.options.entity)).forEach((function(e){e.addEventListener("change",(function(n){t.updateCustomFilter("value1",e.value,e.dataset.id,e.dataset.parentid)}))})),document.querySelectorAll(".jsFilterRowValue2".concat(this.options.entity)).forEach((function(e){e.addEventListener("change",(function(n){t.updateCustomFilter("value2",e.value,e.dataset.id,e.dataset.parentid)}))})),document.getElementById("".concat(this.options.entity,"FilterAply")).addEventListener("click",(function(e){t.getData()}));var c=document.getElementById("".concat(this.options.entity,"SearchCols"));c.addEventListener("input",(function(e){t._reRenderColumnFilter(!1,c.value)})),document.querySelectorAll(".js".concat(this.options.entity,"ToggleCols")).forEach((function(e){e.addEventListener("change",(function(n){t.options.columns=t.options.columns.map((function(t){return D(D({},t),{},{visible:t.id===e.dataset.key?e.checked:t.visible})})),t._reRenderColumnFilter(!0)}))})),document.getElementById("".concat(this.options.entity,"HideAllCols")).addEventListener("click",(function(e){t.options.columns=t.options.columns.map((function(t){return D(D({},t),{},{visible:!1})})),t._reRenderColumnFilter(!0)})),document.getElementById("".concat(this.options.entity,"ShowAllCols")).addEventListener("click",(function(e){t.options.columns=t.options.columns.map((function(t){return D(D({},t),{},{visible:!0})})),t._reRenderColumnFilter(!0)}))}},{key:"_reRenderColumnFilter",value:function(t){var e,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=document.getElementById("".concat(this.options.entity,"ListCols")),a=T(o.children);try{var c=function(){var t=e.value,o=t.querySelector("input"),a=n.options.columns.find((function(t){return t.id===o.dataset.key}));a&&(o.checked=!0===a.visible,i.length>0?t.classList.toggle("hidden",!a.title.toLocaleLowerCase().includes(i.toLocaleLowerCase())):t.classList.remove("hidden"))};for(a.s();!(e=a.n()).done;)c()}catch(t){a.e(t)}finally{a.f()}t&&(this._renderTableHead(),this._renderTableBody())}}],n&&I(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),B=R,_=function(){var t=!1;document.querySelectorAll(".SnDropdown").forEach((function(e){var n=e.querySelector(".SnDropdown-toggle"),i=n.nextElementSibling;e.classList.contains("listen")||(e.classList.add("listen"),n.addEventListener("click",(function(e){e.stopPropagation(),function(e){e.classList.contains("show")?(t=!1,e.classList.remove("show")):(e.classList.add("show"),t&&t!==e&&t.classList.remove("show"),t=e)}(i)}),!0),i.classList.contains("no-closable")&&i.addEventListener("click",(function(t){t.stopPropagation()})))})),window.addEventListener("click",(function(e){t&&t.classList.remove("show")}))};window.SnCollapse=t,window.SnIcon=e,window.SnInput=n,window.SnFreeze=i,window.SnMenu=function(t){var e=t.menuId,n=void 0===e?"SnMenu":e,i=t.toggleButtonID,c=void 0===i?"SnMenu-toggle":i,r=t.contextId,l=void 0===r?"Site":r,d=t.toggleClass,u=void 0===d?"SnMenu-is-show":d,f=t.menuCloseID,p=void 0===f?"":f,h=t.iconClassDown,v=void 0===h?"icon-down":h,m=t.iconClassUp,y=void 0===m?"icon-up":m,g={menu:null,context:null,toggleAction:null,closeAction:null,init:function(){var t=this;if(this.menu=document.getElementById(n),this.menu){var e,i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,r=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,c=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw c}}}}(this.menu.querySelectorAll("li"));try{var r=function(){var t=e.value;if(2===t.childElementCount){var n=t.firstElementChild,i=t.lastElementChild,o=document.createElement("i");v.split(" ").forEach((function(t){o.classList.add(t)})),o.classList.add("toggle"),n.appendChild(o),n.classList.add("is-toggle"),o.addEventListener("click",(function(t){var e;t.preventDefault(),null!==(e=i.classList.contains("is-show"))&&void 0!==e&&e?(y.split(" ").forEach((function(t){o.classList.remove(t)})),v.split(" ").forEach((function(t){o.classList.add(t)}))):(v.split(" ").forEach((function(t){o.classList.remove(t)})),y.split(" ").forEach((function(t){o.classList.add(t)}))),i.classList.toggle("is-show")}))}};for(i.s();!(e=i.n()).done;)r()}catch(t){i.e(t)}finally{i.f()}this.context=document.getElementById(l),this.toggleAction=document.getElementById(c),this.toggleAction&&this.toggleAction.addEventListener("click",(function(){t.toggle()})),""!==p&&(this.closeAction=document.getElementById(p),this.closeAction&&(this.closeAction.addEventListener("click",(function(){t.close()})),this.closeAction.hasChildNodes()&&o(this.closeAction.children).forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation()}))})),this.menu.addEventListener("click",(function(t){t.stopPropagation()})))),this.setActive()}else console.warn("Not found ".concat(n))},open:function(){this.context&&this.context.classList.add(u)},close:function(){this.context&&this.context.classList.remove(u)},toggle:function(){this.context&&this.context.classList.toggle(u)},setActive:function(){this.menu&&s(o(this.menu.querySelectorAll("a")),n,y,v)}};return g.init(),g},window.SnActiveMenu=s,window.SnMessage=l,window.SnModal=w,window.SnTab=S,window.SnTree={},window.SnAlert=L,window.SnUniqueId=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,e=+new Date,n=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},i=e.toString(),o=i.split("").reverse(),a="",c=0;c<t;++c){var r=n(0,o.length-1);a+=o[r]}return a},window.SnLoadingState=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=document.querySelectorAll(".".concat(e)),o=document.getElementById(n);t?(o&&(o.setAttribute("disabled","disabled"),o.classList.add("loading")),i&&i.forEach((function(t){t.setAttribute("disabled","disabled")}))):(o&&(o.removeAttribute("disabled"),o.classList.remove("loading")),i&&i.forEach((function(t){t.removeAttribute("disabled")})))},window.SnTheme=k,window.SnTable=B,window.SnDropdown=_,document.addEventListener("DOMContentLoaded",(function(){n(),w.init(),S.init(),t.init(),e.render(),L.init(),k.init(),_()}))}();